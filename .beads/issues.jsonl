{"id":"evoidea-07o","title":"Prek: forbid Cyrillic outside translation files","description":"Goal: Добавить prek hook, который запрещает кириллицу в репозитории (кроме файлов перевода).\n\nWhy:\n- Единый язык в коде/конфигах упрощает поиск, ревью и поддержку.\n- Локализация должна жить в явных i18n файлах.\n\nHow:\n- Добавить локальный hook в `.pre-commit-config.yaml`.\n- Реализовать скрипт `scripts/check_no_cyrillic.sh`, который ищет `\\p{Script=Cyrillic}` и фейлит, если найдено.\n- Разрешить кириллицу только в `locales/|i18n/|l10n/|translations/` и/или `*.po/*.ftl/*.arb`.\n\nDone when:\n- `uvx prek run --all-files` проходит.\n- Hook падает при добавлении кириллицы в не-translation файл.\n","status":"closed","priority":2,"issue_type":"chore","owner":"netmin@pm.me","created_at":"2026-01-23T16:31:24.999755+03:00","created_by":"Vitaly D.","updated_at":"2026-01-23T16:34:18.164711+03:00","closed_at":"2026-01-23T16:34:18.164711+03:00","close_reason":"Added prek hook + script to block Cyrillic in non-translation files; documented policy in AGENTS.md."}
{"id":"evoidea-14v","title":"Pipeline core: Phase trait + Pipeline runner + Orchestrator loop (integration tests)","description":"Goal: Реализовать Phase-интерфейс, Pipeline runner и Orchestrator, который крутит итерации и пишет историю/состояние через Storage.\n\nWhy:\n- Это “шина” проекта: все фазы должны подключаться без переписывания ядра.\n- Integration тесты должны проверить, что цикл исполняется в правильном порядке и оставляет артефакты.\n\nHow:\n- Phase: name() + run(state, ctx) -\u003e state.\n- Pipeline: список фаз (по конфигу) и последовательный прогон.\n- Orchestrator: init_run, loop max_rounds, stop conditions, update best/stagnation.\n- История: append_event на каждый шаг (generated/scored/selected/.../stopped).\n\nTDD:\n- Сначала integration тест: pipeline из 1–2 dummy фаз меняет state; история пишет события; stop по max_rounds.\n\nDone when:\n- Есть минимальный end-to-end (mock) интеграционный тест, который создаёт `runs/\u003crun_id\u003e/` и `history.ndjson`.\n","status":"open","priority":2,"issue_type":"task","owner":"netmin@pm.me","created_at":"2026-01-23T16:10:59.368493+03:00","created_by":"Vitaly D.","updated_at":"2026-01-23T16:10:59.368493+03:00","dependencies":[{"issue_id":"evoidea-14v","depends_on_id":"evoidea-ftm","type":"parent-child","created_at":"2026-01-23T16:12:28.430986+03:00","created_by":"Vitaly D."},{"issue_id":"evoidea-14v","depends_on_id":"evoidea-v5q","type":"blocks","created_at":"2026-01-23T16:12:53.428258+03:00","created_by":"Vitaly D."},{"issue_id":"evoidea-14v","depends_on_id":"evoidea-okj","type":"blocks","created_at":"2026-01-23T16:12:53.543564+03:00","created_by":"Vitaly D."}]}
{"id":"evoidea-3v3","title":"Repo tooling: prek hooks + инструкции (TDD + what/why/how)","description":"Goal: Добавить prek (pre-commit compatible) и зафиксировать в инструкциях стандарты описаний задач/коммитов (что/зачем/как) и TDD-ритм.\n\nWhy:\n- Хотим быстрый feedback loop до PR/пуша (fmt/clippy/tests + базовая гигиена).\n- Хотим единый стиль описаний: задачи/коммиты должны объяснять не только «что», но и «зачем/как».\n\nHow:\n- Добавить `.pre-commit-config.yaml` и описать, как запускать/устанавливать (`uvx prek run`, `uvx prek install`).\n- Обновить `AGENTS.md`: шаблоны commit message и bd-описаний с секциями Why/How и упоминанием TDD.\n\nDone when:\n- `uvx prek validate-config` проходит.\n- `uvx prek run --all-files` проходит (для текущих файлов).\n- В `AGENTS.md` есть шаблоны: Change description (jj) + Issue description (bd) с What/Why/How.\n","status":"closed","priority":1,"issue_type":"chore","owner":"netmin@pm.me","created_at":"2026-01-23T16:09:31.158707+03:00","created_by":"Vitaly D.","updated_at":"2026-01-23T16:17:46.694934+03:00","closed_at":"2026-01-23T16:17:46.694934+03:00","close_reason":"Added .pre-commit-config.yaml, updated AGENTS templates with What/Why/How + TDD, validated prek run.","dependencies":[{"issue_id":"evoidea-3v3","depends_on_id":"evoidea-ftm","type":"parent-child","created_at":"2026-01-23T16:12:28.310314+03:00","created_by":"Vitaly D."}]}
{"id":"evoidea-6c6","title":"LlmProvider: Mock provider + deterministic fixtures for generator/critic/merger/mutator/refiner","description":"Goal: Реализовать MockLlmProvider, который возвращает предопределённые JSON ответы для задач generator/critic/merger/mutator/refiner.\n\nWhy:\n- Нужен детерминизм для unit/integration тестов без внешнего LLM.\n- Позволяет отлаживать pipeline/selection/stop независимо от codex.\n\nHow:\n- Определить LlmTask enum (Generator/Critic/Merger/Mutator/Refiner/Final).\n- Mock возвращает заранее подготовленные значения (fixtures) по типу задачи + iteration.\n- Fixtures хранить в тестовых данных или как встроенные структуры.\n\nTDD:\n- Сначала unit-тесты: mock возвращает корректный JSON для каждого LlmTask и ошибка при неизвестном сценарии.\n\nDone when:\n- Integration тесты могут использовать mock для полного прогона 2–4 итераций.\n","status":"open","priority":2,"issue_type":"task","owner":"netmin@pm.me","created_at":"2026-01-23T16:10:52.452192+03:00","created_by":"Vitaly D.","updated_at":"2026-01-23T16:10:52.452192+03:00","dependencies":[{"issue_id":"evoidea-6c6","depends_on_id":"evoidea-ftm","type":"parent-child","created_at":"2026-01-23T16:12:28.416002+03:00","created_by":"Vitaly D."},{"issue_id":"evoidea-6c6","depends_on_id":"evoidea-xqn","type":"blocks","created_at":"2026-01-23T16:12:53.310406+03:00","created_by":"Vitaly D."}]}
{"id":"evoidea-8ng","title":"CLI: run/resume/show/validate (MVP) + integration tests for artifacts","description":"Goal: Реализовать CLI-команды минимум для MVP: `run` (mock), `show` (json/md), `validate` (проверка артефактов).\n\nWhy:\n- CLI — основной интерфейс; DoD требует детерминированный mock-run и воспроизводимые артефакты.\n\nHow:\n- `run`: принимает флаги из спеки, запускает orchestrator, печатает run_id.\n- `show`: читает final.json/state.json и выводит в json/md.\n- `validate`: проверяет наличие файлов и базовые инварианты (JSON парсится, best_idea_id существует, т.п.).\n\nTDD:\n- Сначала integration тест: `evoidea run --mode mock --prompt ... --out \u003ctemp\u003e` создаёт ожидаемые файлы.\n\nDone when:\n- Команды работают согласно `evoidea_codex_bundle_md/docs/06_CLI.md` (в MVP допускаем частичный набор флагов, но фиксируем их).\n","status":"open","priority":2,"issue_type":"task","owner":"netmin@pm.me","created_at":"2026-01-23T16:11:35.924264+03:00","created_by":"Vitaly D.","updated_at":"2026-01-23T16:11:35.924264+03:00","dependencies":[{"issue_id":"evoidea-8ng","depends_on_id":"evoidea-ftm","type":"parent-child","created_at":"2026-01-23T16:12:28.515853+03:00","created_by":"Vitaly D."},{"issue_id":"evoidea-8ng","depends_on_id":"evoidea-sx0","type":"blocks","created_at":"2026-01-23T16:12:54.806404+03:00","created_by":"Vitaly D."}]}
{"id":"evoidea-c5d","title":"Scaffold: Rust crate + clap/tracing deps + cargo test baseline","description":"Goal: Создать рабочий Rust crate `evoidea` в корне репо (CLI-бинарник), который компилируется и имеет базовую структуру модулей.\n\nWhy:\n- Нужен каркас для TDD (unit/integration) и для постепенной реализации pipeline.\n- Без этого не запустить fmt/clippy/tests в prek и CI.\n\nHow:\n- Инициализировать crate в корне (`cargo init --bin --name evoidea`), включить edition 2021.\n- Подключить зависимости: `clap`, `tracing`, `tracing-subscriber`, `serde`, `serde_json`, `anyhow` (+ `thiserror` при необходимости).\n- Добавить минимальный `evoidea --help` и подкоманду-заглушку `run` (без логики).\n\nTDD:\n- Сначала добавить минимальный тест-компиляцию (например, `cargo test` пустой) + smoke-тест парсинга аргументов, если уместно.\n\nDone when:\n- `cargo fmt`, `cargo clippy -- -D warnings`, `cargo test` проходят.\n- `cargo run -- --help` и `cargo run -- run --help` работают.\n","status":"open","priority":2,"issue_type":"task","owner":"netmin@pm.me","created_at":"2026-01-23T16:10:12.411657+03:00","created_by":"Vitaly D.","updated_at":"2026-01-23T16:12:33.668372+03:00","dependencies":[{"issue_id":"evoidea-c5d","depends_on_id":"evoidea-ftm","type":"parent-child","created_at":"2026-01-23T16:12:28.34531+03:00","created_by":"Vitaly D."}]}
{"id":"evoidea-d69","title":"Optional: evals harness (prompts csv + node runner) to sanity-check skill output","description":"Goal: Добавить опциональный eval harness (dataset + runner), который проверяет структуру output и создание артефактов.\n\nWhy:\n- Хотим регрессионные e2e проверки, но без “оценки качества идеи”.\n\nHow:\n- Материализовать `evals/evo-ideator.prompts.csv` и `evals/run-evals.mjs` из `evoidea_codex_bundle_md/non_md/evals/*.md`.\n- Раннер вызывает `codex exec --json` и проверяет структуру событий/финала.\n\nDone when:\n- Можно локально запустить evals и получить pass/fail отчёт.\n","status":"open","priority":4,"issue_type":"task","owner":"netmin@pm.me","created_at":"2026-01-23T16:12:09.050577+03:00","created_by":"Vitaly D.","updated_at":"2026-01-23T16:12:09.050577+03:00","dependencies":[{"issue_id":"evoidea-d69","depends_on_id":"evoidea-ftm","type":"parent-child","created_at":"2026-01-23T16:12:28.573419+03:00","created_by":"Vitaly D."},{"issue_id":"evoidea-d69","depends_on_id":"evoidea-ep5","type":"blocks","created_at":"2026-01-23T16:12:55.483545+03:00","created_by":"Vitaly D."},{"issue_id":"evoidea-d69","depends_on_id":"evoidea-yem","type":"blocks","created_at":"2026-01-23T16:12:55.589768+03:00","created_by":"Vitaly D."}]}
{"id":"evoidea-ep5","title":"LlmProvider: CodexExecProvider (codex exec --output-schema) + optional smoke test","description":"Goal: Добавить CodexExecProvider: запуск `codex exec` с `--output-schema` и разбор JSON результата.\n\nWhy:\n- Это “реальный” режим, который делает проект полезным без ручного instruction-only loop.\n\nHow:\n- Реализовать spawn процесса с явными аргументами, таймаутом и понятными ошибками.\n- Временные файлы/директории — через tempfile.\n- Поддержать `--search` (опционально) и `--skip-git-repo-check` при необходимости.\n\nTDD:\n- Unit-тесты на сбор аргументов/командной строки (без реального запуска).\n- Smoke/e2e тест (опционально) включать только при наличии окружения (env var), чтобы CI оставался детерминированным.\n\nDone when:\n- `--mode codex` может выполнить 1–2 шага без падения и пишет артефакты.\n","status":"open","priority":3,"issue_type":"feature","owner":"netmin@pm.me","created_at":"2026-01-23T16:11:49.669539+03:00","created_by":"Vitaly D.","updated_at":"2026-01-23T16:11:49.669539+03:00","dependencies":[{"issue_id":"evoidea-ep5","depends_on_id":"evoidea-ftm","type":"parent-child","created_at":"2026-01-23T16:12:28.542304+03:00","created_by":"Vitaly D."},{"issue_id":"evoidea-ep5","depends_on_id":"evoidea-tv1","type":"blocks","created_at":"2026-01-23T16:12:55.037539+03:00","created_by":"Vitaly D."},{"issue_id":"evoidea-ep5","depends_on_id":"evoidea-c5d","type":"blocks","created_at":"2026-01-23T16:12:55.151645+03:00","created_by":"Vitaly D."}]}
{"id":"evoidea-ftm","title":"evoidea MVP: Rust CLI + evo-ideator skill (IDEATION-only, mock-first)","description":"Goal: Материализовать спеки из `evoidea_codex_bundle_md/` в рабочий локальный инструмент `evoidea` (Rust) + Codex skill `evo-ideator`.\n\nWhy:\n- Хотим воспроизводимый (mock-first) меметический цикл генерации идей с артефактами запуска.\n- Нужна расширяемая архитектура (Phase/Storage/LlmProvider) без переписывания ядра.\n\nHow:\n- Следуем `evoidea_codex_bundle_md/docs/*` + дизайн `docs/plans/2026-01-23-evoidea-mvp-design.md`.\n- Сначала вертикаль: FileStorage + MockLlmProvider + минимальные фазы + CLI `run`.\n- Затем наращиваем фазы/схемы/skill; real codex режим — smoke/опционально.\n\nDone when:\n- `cargo test` green.\n- `cargo run -- run --mode mock --prompt \"...\"` создаёт `runs/\u003crun_id\u003e/` и пишет `final.json` с ровно 1 лучшей идеей.\n- `.codex/skills/evo-ideator` запускается (через материализованный скрипт).\n","status":"open","priority":1,"issue_type":"epic","owner":"netmin@pm.me","created_at":"2026-01-23T16:09:23.342011+03:00","created_by":"Vitaly D.","updated_at":"2026-01-23T16:09:23.342011+03:00"}
{"id":"evoidea-gzj","title":"Phases: Crossover + Mutation (provider merger/mutator) with invariants (tests)","description":"Goal: Добавить фазы Crossover и Mutation, которые создают новые идеи (origin/parents) через provider и добавляют в популяцию.\n\nWhy:\n- Это источник “вариативности” цикла: новые идеи должны появляться не только от генератора.\n\nHow:\n- Crossover: выбрать пары из top-M (по overall_score), вызвать merger, добавить crossover_count идей с parents.\n- Mutation: выбрать идеи (top + random), выбрать mutation_type, вызвать mutator, добавить mutation_count идей с parents.\n- Соблюдать инварианты origin/parents/gen.\n\nTDD:\n- Integration тест: после фаз появляются идеи origin=crossover/mutated, parents не пуст, gen увеличен.\n\nDone when:\n- Тесты проходят; история пишет события crossover/mutated.\n","status":"open","priority":3,"issue_type":"task","owner":"netmin@pm.me","created_at":"2026-01-23T16:11:21.291254+03:00","created_by":"Vitaly D.","updated_at":"2026-01-23T16:11:21.291254+03:00","dependencies":[{"issue_id":"evoidea-gzj","depends_on_id":"evoidea-ftm","type":"parent-child","created_at":"2026-01-23T16:12:28.48445+03:00","created_by":"Vitaly D."},{"issue_id":"evoidea-gzj","depends_on_id":"evoidea-14v","type":"blocks","created_at":"2026-01-23T16:12:54.23886+03:00","created_by":"Vitaly D."},{"issue_id":"evoidea-gzj","depends_on_id":"evoidea-6c6","type":"blocks","created_at":"2026-01-23T16:12:54.350855+03:00","created_by":"Vitaly D."}]}
{"id":"evoidea-isw","title":"Phase: Select (elite + diversity) updates population + best (tests)","description":"Goal: Реализовать SelectPhase, которая применяет алгоритм отбора к текущим идеям, обновляет best_idea_id/best_score и архивирует выбывшие.\n\nWhy:\n- После scoring нужно корректно удерживать размер популяции и сохранять победителя/стагнацию.\n\nHow:\n- Использовать чистые функции selection из задачи scoring/selection.\n- Архивировать “вышедшие” идеи (status=archived), чтобы они не участвовали дальше.\n- Писать событие history: selected.\n\nTDD:\n- Integration тест: после Select количество active идей == population_size; archived не участвуют; best_idea_id соответствует максимуму overall_score.\n\nDone when:\n- Тесты проходят и stop conditions получают корректные best/stagnation данные.\n","status":"open","priority":2,"issue_type":"task","owner":"netmin@pm.me","created_at":"2026-01-23T16:11:14.142319+03:00","created_by":"Vitaly D.","updated_at":"2026-01-23T16:11:14.142319+03:00","dependencies":[{"issue_id":"evoidea-isw","depends_on_id":"evoidea-ftm","type":"parent-child","created_at":"2026-01-23T16:12:28.465424+03:00","created_by":"Vitaly D."},{"issue_id":"evoidea-isw","depends_on_id":"evoidea-14v","type":"blocks","created_at":"2026-01-23T16:12:53.99873+03:00","created_by":"Vitaly D."},{"issue_id":"evoidea-isw","depends_on_id":"evoidea-kqu","type":"blocks","created_at":"2026-01-23T16:12:54.127517+03:00","created_by":"Vitaly D."}]}
{"id":"evoidea-kbp","title":"Phases: Generate + Critic (apply score patches) with MockLlmProvider (tests)","description":"Goal: Реализовать фазы Generate и Critic/Score: генерация новых идей и применение оценок (scores + judge_notes + overall_score).\n\nWhy:\n- Это первый “живой” кусок pipeline, который создаёт идеи и даёт метрику для отбора.\n\nHow:\n- GeneratePhase: вызвать provider.generator и добавить новые идеи до population_size.\n- CriticPhase: вызвать provider.critic и применить patches к идеям; вычислить overall_score в коде.\n- Записать события history: generated, scored.\n\nTDD:\n- Сначала integration тест с mock fixtures: после Generate появились N идей; после Critic у них заполнены scores/judge_notes/overall_score.\n\nDone when:\n- Тесты проходят и инварианты из data model соблюдены.\n","status":"open","priority":2,"issue_type":"task","owner":"netmin@pm.me","created_at":"2026-01-23T16:11:08.158088+03:00","created_by":"Vitaly D.","updated_at":"2026-01-23T16:11:08.158088+03:00","dependencies":[{"issue_id":"evoidea-kbp","depends_on_id":"evoidea-ftm","type":"parent-child","created_at":"2026-01-23T16:12:28.450277+03:00","created_by":"Vitaly D."},{"issue_id":"evoidea-kbp","depends_on_id":"evoidea-14v","type":"blocks","created_at":"2026-01-23T16:12:53.657773+03:00","created_by":"Vitaly D."},{"issue_id":"evoidea-kbp","depends_on_id":"evoidea-6c6","type":"blocks","created_at":"2026-01-23T16:12:53.766593+03:00","created_by":"Vitaly D."},{"issue_id":"evoidea-kbp","depends_on_id":"evoidea-kqu","type":"blocks","created_at":"2026-01-23T16:12:53.881416+03:00","created_by":"Vitaly D."}]}
{"id":"evoidea-kqu","title":"Scoring/Selection: weighted sum + elite+diversity selection (unit tests)","description":"Goal: Реализовать вычисление overall_score (weighted sum) и отбор популяции (elite + diversity slot) в чистой логике без LLM.\n\nWhy:\n- Это ядро “эволюции”: без корректного отбора цикл не имеет смысла.\n- Unit-тесты должны ловить регрессии независимо от LLM/стора.\n\nHow:\n- Weighted sum: критерии 0..10, веса из RunConfig; risk инвертируется (по спекам).\n- Selection: top elite_count + N diversity слотов (упрощённо: случайный выбор из «середины ранга» с seed).\n- Не учитывать status=archived.\n\nTDD:\n- Сначала unit-тесты: elite_count сохраняется; population ограничена; diversity не всегда берёт только топ; archived не участвуют.\n\nDone when:\n- Unit-тесты зелёные.\n- Функции не зависят от IO и LlmProvider.\n","status":"open","priority":2,"issue_type":"task","owner":"netmin@pm.me","created_at":"2026-01-23T16:10:38.308714+03:00","created_by":"Vitaly D.","updated_at":"2026-01-23T16:10:38.308714+03:00","dependencies":[{"issue_id":"evoidea-kqu","depends_on_id":"evoidea-ftm","type":"parent-child","created_at":"2026-01-23T16:12:28.389466+03:00","created_by":"Vitaly D."},{"issue_id":"evoidea-kqu","depends_on_id":"evoidea-xqn","type":"blocks","created_at":"2026-01-23T16:12:53.064621+03:00","created_by":"Vitaly D."}]}
{"id":"evoidea-okj","title":"Stop conditions: threshold/stagnation/max_rounds (unit tests)","description":"Goal: Реализовать правила остановки цикла (threshold, stagnation, max_rounds) и покрыть unit-тестами.\n\nWhy:\n- Остановка — критично для предсказуемости и скорости; без неё цикл либо бесконечен, либо обрывается неверно.\n\nHow:\n- Вынести в чистую функцию: (iteration, best_score, prev_best_score, stagnation_counter, config) -\u003e Decision.\n- Stagnation: счётчик растёт при отсутствии улучшения; сбрасывается при улучшении.\n\nTDD:\n- Unit-тесты: стоп по threshold; стоп по stagnation_patience; стоп по max_rounds; не-стоп при улучшении.\n\nDone when:\n- Все сценарии из `evoidea_codex_bundle_md/docs/07_TEST_PLAN.md` закрыты.\n","status":"open","priority":2,"issue_type":"task","owner":"netmin@pm.me","created_at":"2026-01-23T16:10:45.646428+03:00","created_by":"Vitaly D.","updated_at":"2026-01-23T16:10:45.646428+03:00","dependencies":[{"issue_id":"evoidea-okj","depends_on_id":"evoidea-ftm","type":"parent-child","created_at":"2026-01-23T16:12:28.402369+03:00","created_by":"Vitaly D."},{"issue_id":"evoidea-okj","depends_on_id":"evoidea-xqn","type":"blocks","created_at":"2026-01-23T16:12:53.184378+03:00","created_by":"Vitaly D."}]}
{"id":"evoidea-q8a","title":"Materialize spec bundle into repo root (docs/ + .codex/skills)","description":"Goal: Перенести/скопировать спеки и skill из `evoidea_codex_bundle_md/` в каноничные пути репозитория (`docs/`, `.codex/skills/evo-ideator/`).\n\nWhy:\n- Упростить навигацию и сделать repo self-contained (без “пакета внутри пакета”).\n- Дальше по задачам ссылки будут на корневые `docs/*` и `.codex/skills/*`.\n\nHow:\n- Скопировать `evoidea_codex_bundle_md/docs/*` → `docs/spec/*` (или `docs/*`, если не конфликтует).\n- Скопировать `evoidea_codex_bundle_md/.codex/skills/evo-ideator/*` → `.codex/skills/evo-ideator/`.\n- Оставить `evoidea_codex_bundle_md/` как источник только если нужно; иначе удалить после переноса.\n\nDone when:\n- В корне есть читаемые спеки/skill, на которые можно ссылаться из задач/коммитов.\n","status":"open","priority":2,"issue_type":"chore","owner":"netmin@pm.me","created_at":"2026-01-23T16:10:02.69975+03:00","created_by":"Vitaly D.","updated_at":"2026-01-23T16:10:02.69975+03:00","dependencies":[{"issue_id":"evoidea-q8a","depends_on_id":"evoidea-ftm","type":"parent-child","created_at":"2026-01-23T16:12:28.330326+03:00","created_by":"Vitaly D."}]}
{"id":"evoidea-sx0","title":"Phases: Refine top-K + Final composer writes final.json (tests)","description":"Goal: Реализовать RefinePhase (улучшение top-K по judge_notes) и финализацию: выбор 1 лучшей идеи и запись final.json.\n\nWhy:\n- Refine делает победителя “практичнее”; Final composer фиксирует результат IDEATION.\n\nHow:\n- Refine: взять top-K, вызвать provider.refiner, применить patch (title/summary/facets/risks/...) без потери id/parents.\n- Final: сформировать FinalResult (1 лучшая идея + why_won + scores) и сохранить через Storage.\n- Писать события history: refined, stopped.\n\nTDD:\n- Integration тест: после refine поля меняются; final.json содержит ровно 1 идею и соответствует структуре (serde).\n\nDone when:\n- `cargo run -- run --mode mock --prompt \"...\"` создаёт final.json с 1 лучшей идеей.\n","status":"open","priority":2,"issue_type":"task","owner":"netmin@pm.me","created_at":"2026-01-23T16:11:27.954156+03:00","created_by":"Vitaly D.","updated_at":"2026-01-23T16:11:27.954156+03:00","dependencies":[{"issue_id":"evoidea-sx0","depends_on_id":"evoidea-ftm","type":"parent-child","created_at":"2026-01-23T16:12:28.50116+03:00","created_by":"Vitaly D."},{"issue_id":"evoidea-sx0","depends_on_id":"evoidea-14v","type":"blocks","created_at":"2026-01-23T16:12:54.465968+03:00","created_by":"Vitaly D."},{"issue_id":"evoidea-sx0","depends_on_id":"evoidea-6c6","type":"blocks","created_at":"2026-01-23T16:12:54.585712+03:00","created_by":"Vitaly D."},{"issue_id":"evoidea-sx0","depends_on_id":"evoidea-kqu","type":"blocks","created_at":"2026-01-23T16:12:54.696477+03:00","created_by":"Vitaly D."}]}
{"id":"evoidea-tv1","title":"Materialize JSON schemas for structured outputs (schemas/*.json)","description":"Goal: Материализовать JSON Schema файлы для structured outputs (generator/critic/merger/mutator/refiner/final) в `schemas/*.json`.\n\nWhy:\n- `CodexExecProvider` должен вызывать `codex exec --output-schema` по этим схемам.\n- Это контракт LLM↔код; строгие схемы снижают риск “мусора” в ответах.\n\nHow:\n- Взять содержимое из `evoidea_codex_bundle_md/non_md/schemas/SCHEMAS.json.md` (там несколько блоков Target path).\n- Создать реальные файлы `schemas/*.json` с `additionalProperties: false` в объектах.\n\nTDD:\n- Добавить минимальный тест/проверку, что файлы существуют и валидный JSON (без полной jsonschema-валидации).\n\nDone when:\n- Файлы `schemas/*.json` присутствуют, валидный JSON.\n","status":"open","priority":2,"issue_type":"chore","owner":"netmin@pm.me","created_at":"2026-01-23T16:11:43.024419+03:00","created_by":"Vitaly D.","updated_at":"2026-01-23T16:11:43.024419+03:00","dependencies":[{"issue_id":"evoidea-tv1","depends_on_id":"evoidea-ftm","type":"parent-child","created_at":"2026-01-23T16:12:28.528881+03:00","created_by":"Vitaly D."},{"issue_id":"evoidea-tv1","depends_on_id":"evoidea-q8a","type":"blocks","created_at":"2026-01-23T16:12:54.917041+03:00","created_by":"Vitaly D."}]}
{"id":"evoidea-v5q","title":"Storage: FileStorage writes runs/\u003crun_id\u003e artifacts + tests","description":"Goal: Реализовать FileStorage (runs/\u003crun_id\u003e/...) для записи/чтения артефактов: config.json, state.json, history.ndjson, final.json.\n\nWhy:\n- Артефакты запуска — ключевая наблюдаемость и DoD MVP.\n- FileStorage нужен уже для mock-run интеграционных тестов.\n\nHow:\n- Реализовать трейт Storage: init_run/load_state/save_state/append_event/save_final.\n- Формат history: newline-delimited JSON (append-only).\n- Для тестов использовать временную директорию (tempfile) и проверять содержимое/наличие файлов.\n\nTDD:\n- Сначала интеграционные тесты: init_run создаёт директорию; save/load state round-trip; append_event пишет NDJSON; save_final пишет final.json.\n\nDone when:\n- Интеграционные тесты зелёные.\n- Путь и структура совпадают со спеками (`evoidea_codex_bundle_md/docs/05_STORAGE.md`).\n","status":"open","priority":2,"issue_type":"task","owner":"netmin@pm.me","created_at":"2026-01-23T16:10:31.566143+03:00","created_by":"Vitaly D.","updated_at":"2026-01-23T16:10:31.566143+03:00","dependencies":[{"issue_id":"evoidea-v5q","depends_on_id":"evoidea-ftm","type":"parent-child","created_at":"2026-01-23T16:12:28.37501+03:00","created_by":"Vitaly D."},{"issue_id":"evoidea-v5q","depends_on_id":"evoidea-xqn","type":"blocks","created_at":"2026-01-23T16:12:52.952868+03:00","created_by":"Vitaly D."}]}
{"id":"evoidea-xqn","title":"Data model: structs + JSON round-trip tests (RunConfig/Idea/State/Event/Final)","description":"Goal: Определить core-структуры данных и инварианты (RunConfig/Idea/State/Event/FinalResult) и обеспечить стабильную сериализацию в JSON.\n\nWhy:\n- Это «контракт» между фазами, storage, CLI и (в будущем) schema-based LLM outputs.\n- Тесты на инварианты/round-trip дадут ранний сигнал о поломке формата артефактов.\n\nHow:\n- Реализовать структуры согласно спекам (см. `evoidea_codex_bundle_md/docs/02_DATA_MODEL.md`).\n- Держать инварианты: origin/parents/status/overall_score и т.п.\n- Добавить сериализацию/десериализацию через serde + явные типы для enum’ов.\n\nTDD:\n- Сначала написать unit-тесты: JSON round-trip для `State`, проверка инвариантов parents/origin/status.\n\nDone when:\n- Есть unit-тесты на round-trip и ключевые инварианты.\n- `cargo test` green.\n","status":"open","priority":2,"issue_type":"task","owner":"netmin@pm.me","created_at":"2026-01-23T16:10:24.86501+03:00","created_by":"Vitaly D.","updated_at":"2026-01-23T16:10:24.86501+03:00","dependencies":[{"issue_id":"evoidea-xqn","depends_on_id":"evoidea-ftm","type":"parent-child","created_at":"2026-01-23T16:12:28.361765+03:00","created_by":"Vitaly D."},{"issue_id":"evoidea-xqn","depends_on_id":"evoidea-c5d","type":"blocks","created_at":"2026-01-23T16:12:52.825497+03:00","created_by":"Vitaly D."}]}
{"id":"evoidea-yem","title":"Codex skill: materialize evo-ideator + run_evoidea.sh script (chmod +x)","description":"Goal: Сделать рабочий Codex skill `.codex/skills/evo-ideator` и скрипт запуска `run_evoidea.sh`, который вызывает локальный бинарник.\n\nWhy:\n- Требование DoD: skill существует и запускается; это основной UX для “придумай идею” в Codex.\n\nHow:\n- Скопировать markdown skill из `evoidea_codex_bundle_md/.codex/skills/evo-ideator/` в корневой `.codex/skills/evo-ideator/`.\n- Материализовать `.codex/skills/evo-ideator/scripts/run_evoidea.sh` из `evoidea_codex_bundle_md/non_md/codex_skill_scripts/run_evoidea.sh.md`.\n- Поставить `chmod +x`.\n\nTDD:\n- Добавить простую проверку в тестах/скриптах репо, что файл существует и исполняемый (в CI можно проверить mode/exists).\n\nDone when:\n- `codex exec` может найти skill и выполнить скрипт (локальная проверка / smoke).\n","status":"open","priority":2,"issue_type":"chore","owner":"netmin@pm.me","created_at":"2026-01-23T16:12:02.3009+03:00","created_by":"Vitaly D.","updated_at":"2026-01-23T16:12:02.3009+03:00","dependencies":[{"issue_id":"evoidea-yem","depends_on_id":"evoidea-ftm","type":"parent-child","created_at":"2026-01-23T16:12:28.560073+03:00","created_by":"Vitaly D."},{"issue_id":"evoidea-yem","depends_on_id":"evoidea-8ng","type":"blocks","created_at":"2026-01-23T16:12:55.261964+03:00","created_by":"Vitaly D."},{"issue_id":"evoidea-yem","depends_on_id":"evoidea-q8a","type":"blocks","created_at":"2026-01-23T16:12:55.375964+03:00","created_by":"Vitaly D."}]}
